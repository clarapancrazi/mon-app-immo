<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Ajouter une location</title>
  <style>
    body {
      margin: 0;
      font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
      display: flex;
      height: 100vh;
    }
    .sidebar {
      width: 250px;
      background-color: #0c2d48;
      color: white;
      padding: 20px;
      display: flex;
      flex-direction: column;
    }
    .sidebar h2 {
      margin-bottom: 30px;
    }
    .sidebar a {
      color: white;
      text-decoration: none;
      margin: 10px 0;
      font-weight: bold;
    }
    .main-content {
      flex: 1;
      background-color: #f9f9f9;
      padding: 40px;
      overflow-y: auto;
    }
    .form-section {
      background-color: white;
      padding: 20px;
      border-radius: 10px;
      box-shadow: 0 4px 10px rgba(0,0,0,0.08);
      margin-bottom: 30px;
    }
    .form-section h3 {
      margin-top: 0;
      margin-bottom: 20px;
      font-size: 20px;
      background-color: #0c2d48;
      color: white;
      padding: 10px;
      border-radius: 6px;
    }
    label {
      display: block;
      margin: 12px 0 6px;
      font-weight: bold;
    }
    input, select {
      width: 100%;
      padding: 10px;
      margin-bottom: 12px;
      border: 1px solid #ccc;
      border-radius: 4px;
    }
    .grid {
      display: grid;
      grid-template-columns: 1fr 1fr;
      gap: 20px;
    }
    .grid-3 {
      display: grid;
      grid-template-columns: 1fr 1fr 1fr;
      gap: 20px;
    }
    .readonly {
      background-color: #eee;
    }
    button, .btn-inline {
      padding: 12px 20px;
      background-color: #0c2d48;
      color: white;
      border: none;
      border-radius: 6px;
      font-size: 16px;
      cursor: pointer;
    }
    button:hover, .btn-inline:hover {
      background-color: #10476b;
    }
    .btn-inline {
      margin-top: -10px;
      margin-bottom: 10px;
      padding: 6px 14px;
      font-size: 14px;
    }
    .remove-btn {
      margin-top: 5px;
      background-color: #c0392b;
    }
  </style>
</head>
<body>
  <div class="sidebar">
    <h2>Pancrazi Immobilier</h2>
    <a href="dashboard.html">Tableau de bord</a>
    <a href="equipe.html">Équipe & Commerciaux</a>
    <a href="transactions.html">Transactions</a>
    <a href="locations.html">Locations</a>
    <a href="gestion.html">Gestion locative</a>
    <a href="saisonniere.html">Location saisonnière</a>
    <a href="clients.html">Accès clients</a>
    <a href="simulateurs.html">Outils & simulateurs</a>
    <a href="administratif.html">Administratif agence</a>
  </div>
  <div class="main-content">
    <h1>Nouvelle location</h1>

    <div class="form-section">
      <h3>Propriétaire</h3>
      <button type="button" class="btn-inline" onclick="dupliquerBloc('proprio')">+ Ajouter un propriétaire</button>
      <div class="grid" id="proprio">
        <div><label>Nom</label><input type="text"></div>
        <div><label>Prénom</label><input type="text"></div>
        <div><label>Téléphone</label><input type="text"></div>
        <div><label>Email</label><input type="email"></div>
        <button type="button" class="btn-inline remove-btn" onclick="this.parentNode.remove()">Supprimer</button>
      </div>
    </div>

    <div class="form-section">
      <h3>Locataire</h3>
      <button type="button" class="btn-inline" onclick="dupliquerBloc('locataire')">+ Ajouter un locataire</button>
      <div class="grid" id="locataire">
        <div><label>Nom</label><input type="text"></div>
        <div><label>Prénom</label><input type="text"></div>
        <div><label>Téléphone</label><input type="text"></div>
        <div><label>Email</label><input type="email"></div>
        <button type="button" class="btn-inline remove-btn" onclick="this.parentNode.remove()">Supprimer</button>
      </div>
    </div>

    <div class="form-section">
      <h3>Bien</h3>
      <label>Adresse complète</label>
      <input type="text">
      <div class="grid">
        <div><label>Code postal</label><input type="text"></div>
        <div><label>Ville</label><input type="text"></div>
      </div>
      <div class="grid">
        <div><label>Surface (m²)</label><input type="number" id="surface" onchange="calculerFrais()"></div>
        <div><label>Type de bien</label><select><option>Appartement</option><option>Maison</option></select></div>
        <div><label>Nombre de chambres</label><input type="number"></div>
        <div><label>Bail</label><select><option>Meublé (1 an)</option><option>Non meublé (3 ans)</option></select></div>
      </div>
    </div>

    <div class="form-section">
      <h3>Financier</h3>
      <div class="grid">
        <div><label>Loyer HC (€)</label><input type="number"></div>
        <div><label>Charges (€)</label><input type="number"></div>
        <div><label>Taxe ordures ménagères (an) (€)</label><input type="number"></div>
        <div><label>Charges N-1 (€)</label><input type="number"></div>
      </div>
      <div class="grid">
        <div><label>Déclaration de revenus</label><select><option>Formulaire 2044</option><option>Formulaire Meublé</option></select></div>
        <div><label>Garantie loyers impayés : N° d'agrément</label><input type="text"></div>
      </div>
    </div>

    <div class="form-section">
      <h3>Honoraires agence</h3>
      <div class="grid">
        <div>
          <h4>Locataire</h4>
          <label>Honoraires (9€/m²) : constitution dossier, visite, bail</label>
          <input type="text" id="fraisLocataire" class="readonly" readonly>
          <label>Réduction (€)</label>
          <input type="number">
          <label>État des lieux (3€/m²)</label>
          <input type="text" id="edlLoc" class="readonly" readonly>
          <label>Réduction (€)</label>
          <input type="number">
        </div>
        <div>
          <h4>Propriétaire</h4>
          <label>Honoraires (9€/m²) : constitution dossier, visite, bail</label>
          <input type="text" id="fraisProprio" class="readonly" readonly>
          <label>Réduction (€)</label>
          <input type="number">
          <label>État des lieux (3€/m²)</label>
          <input type="text" id="edlPro" class="readonly" readonly>
          <label>Réduction (€)</label>
          <input type="number">
        </div>
      </div>
    </div>

    <button type="submit">Créer la location</button>

    <script>
      function calculerFrais() {
        const m2 = parseFloat(document.getElementById('surface').value) || 0;
        document.getElementById('fraisLocataire').value = (m2 * 9).toFixed(2) + ' €';
        document.getElementById('fraisProprio').value = (m2 * 9).toFixed(2) + ' €';
        document.getElementById('edlLoc').value = (m2 * 3).toFixed(2) + ' €';
        document.getElementById('edlPro').value = (m2 * 3).toFixed(2) + ' €';
      }

      function dupliquerBloc(id) {
        const bloc = document.getElementById(id);
        const clone = bloc.cloneNode(true);
        const removeButton = document.createElement('button');
        removeButton.textContent = 'Supprimer';
        removeButton.type = 'button';
        removeButton.className = 'btn-inline remove-btn';
        removeButton.onclick = () => clone.remove();
        clone.appendChild(removeButton);
        bloc.parentNode.insertBefore(clone, bloc.nextSibling);
      }
    </script>
  </div>
</body>
</html>