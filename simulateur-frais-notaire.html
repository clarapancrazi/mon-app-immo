<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Frais de Notaire ‚Äî Pancrazi Immobilier</title>

  <!-- Google Fonts -->
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600&family=Montserrat:wght@500&family=Playfair+Display:wght@700&display=swap" rel="stylesheet">
  <!-- html2pdf.js -->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/html2pdf.js/0.10.1/html2pdf.bundle.min.js"></script>

  <style>
    :root {
      --gold: #D4AF37;
      --deep-black: #0b0b0b;
      --dark-grey: #1c1c1c;
      --light-grey: #111;
      --bg-image: url('https://images.unsplash.com/photo-1600585154340-be6161a56a0c?ixlib=rb-4.0.3&auto=format&fit=crop&w=1950&q=80');
    }
    * { box-sizing: border-box; margin: 0; padding: 0; }
    html, body { height: 100%; overflow: hidden; font-family: 'Inter', sans-serif; }
    body {
      display: flex;
      background: var(--bg-image) no-repeat center center fixed;
      background-size: cover;
      color: white;
    }
    a { text-decoration: none; color: inherit; }
    .overlay { position: fixed; top:0; left:0; width:100%; height:100%; background: rgba(0,0,0,0.75); z-index:-1; }

    /* Sidebar */
    nav.sidebar {
      width: 240px; background: var(--deep-black);
      display: flex; flex-direction: column;
      border-right: 1px solid rgba(255,255,255,0.05);
      box-shadow: 4px 0 10px rgba(0,0,0,0.3);
    }
    .sidebar-header { padding:28px 24px; border-bottom:1px solid rgba(255,255,255,0.05); }
    .sidebar-header h1 { font-family:'Playfair Display', serif; font-size:20px; font-weight:700; color:var(--gold); letter-spacing:1px; }
    .menu { flex:1; padding:24px; display:flex; flex-direction:column; gap:16px; }
    .menu a { font-size:14px; font-weight:500; text-transform:uppercase; letter-spacing:1px; color:#ccc; padding:10px 14px; border-left:2px solid transparent; transition:all 0.3s ease; }
    .menu a:hover, .menu a.active { color:var(--gold); border-left:2px solid var(--gold); background:rgba(255,255,255,0.04); }
    .sidebar-bottom { padding:24px; border-top:1px solid rgba(255,255,255,0.05); }
    .sidebar-bottom a { font-size:13px; color:#aaa; transition:color 0.3s ease; }
    .sidebar-bottom a:hover { color:var(--gold); }

    /* Main */
    main { flex:1; display:flex; flex-direction:column; overflow:hidden; position:relative; z-index:2; }
    header.brand { flex-shrink:0; padding:40px 0 20px; background:rgba(0,0,0,0.7); text-align:center; }
    .brand h1 { margin:0; font-family:'Playfair Display', serif; font-weight:700; letter-spacing:2px; text-shadow:0 2px 6px rgba(0,0,0,.35); color:var(--gold); line-height:1.05; font-size:72px; }
    .brand .ampersand { font-size:1.99em; }
    .brand .slogan { margin:0; font:500 18px 'Montserrat', sans-serif; letter-spacing:1px; text-transform:uppercase; color:var(--gold); }
    .user-info { position:absolute; top:20px; right:40px; display:flex; align-items:center; gap:12px; font-size:13px; }
    .logout-btn { background:#e74c3c; border:none; color:#fff; padding:8px 14px; border-radius:6px; cursor:pointer; }
    .logout-btn:hover { background:#c0392b; }

    .content-scroll { flex:1; overflow-y:auto; padding:40px; }
    .content-scroll h1 { font-size:28px; color:var(--gold); margin-bottom:30px; text-align:center; }

    .simulateur-container {
      background: #111;
      padding: 28px;
      border-radius: 20px;
      box-shadow: 0 8px 20px rgba(0,0,0,0.25);
      max-width: 900px;
      margin: 0 auto;
      color: #ddd;
    }
    .header-logo { text-align:center; margin-bottom:20px; }
    .header-logo img { max-height:70px; }
    label { display:block; color:#bbb; font-weight:500; margin-top:15px; }
    .user-input { width:100%; padding:10px; margin-top:5px; border:1px solid rgba(255,255,255,0.2); border-radius:6px; background:var(--dark-grey); color:white; font-size:14px; }

    .section { margin-top:30px; padding:20px; background:rgba(255,255,255,0.05); border-left:6px solid var(--gold); border-radius:8px; }
    .section h3 { margin-top:0; color:var(--gold); }
    .result { padding:10px; margin-top:10px; background:rgba(255,255,255,0.1); border-radius:8px; font-size:14px; }
    .highlight { font-weight:bold; color:var(--gold); }

    .info-icon { cursor:pointer; color:var(--gold); margin-left:5px; }
    .info-bulle { display:none; background:#222; border:1px solid rgba(255,255,255,0.1); padding:10px; position:absolute; width:300px; border-radius:8px; box-shadow:0 2px 8px rgba(0,0,0,0.4); color:white; font-size:13px; }

    .btn { background:var(--gold); color:var(--deep-black); padding:10px 16px; border:none; border-radius:6px; font-weight:600; cursor:pointer; margin-top:20px; display:block; width:100%; max-width:300px; margin-left:auto; margin-right:auto; }
    .btn:hover { background:#bfa433; }

    @media screen and (max-width:768px) {
      nav.sidebar { display:none; }
      .content-scroll { padding:20px; }
      .content-scroll h1 { font-size:22px; }
      .simulateur-container { padding:16px; }
      .user-input { font-size:13px; }
      .btn { width:100%; }
      .simulateur-container .info-bulle { width: auto; left: 20px; }
    }
  </style>
</head>
<body>
  <div class="overlay"></div>
  <nav class="sidebar">
    <div class="sidebar-header"><h1>PANCRAZI</h1></div>
    <div class="menu">
      <a href="accueil.html">Accueil</a>
      <a href="simulateurs.html">Simulateurs</a>
      
    </div>
    <div class="sidebar-bottom"><a href="parametrages.html">Param√©trages</a></div>
  </nav>
  <main>
    <header class="brand">
      <h1>PANCRAZI</h1>
      <h1 class="ampersand">&amp; PARTNERS</h1>
      <p class="slogan">L‚Äôexcellence pour tous</p>
    </header>
    <div class="user-info"><span id="userName">Bonjour,</span><button class="logout-btn" onclick="logout()">D√©connexion</button></div>
    <div class="content-scroll">
      <h1>Simulateur Frais de Notaire</h1>
      <div class="simulateur-container" id="pdf-content">
        <div class="header-logo">
          <img src="https://i.imgur.com/q5E4ZEV.jpeg" alt="Logo PANCRAZI & Partners" />
        </div>
        <div class="section">
          <label for="prixVente">Prix de vente</label>
          <input type="number" id="prixVente" class="user-input" />
          <label for="honoraires">Honoraires agence</label>
          <input type="number" id="honoraires" class="user-input" />
          <label for="charge">Frais √† la charge de</label>
          <select id="charge" class="user-input">
            <option value="acquereur">Acqu√©reur</option>
            <option value="vendeur">Vendeur</option>
          </select>
          <label for="typeBien">Type de bien</label>
          <select id="typeBien" class="user-input">
            <option value="ancien">Ancien</option>
            <option value="neuf">Neuf</option>
          </select>
          <label for="mobilier">Valeur mobilier √† d√©duire</label>
          <input type="number" id="mobilier" class="user-input" value="0" />
          <button class="btn" onclick="calculerFrais()">Calculer</button>
        </div>

        <div id="resultats" style="display:none;">
          <div class="section">
            <h3>R√©sultats</h3>
            <div class="result">Montant net vendeur : <span id="netVendeur"></span></div>
            <div class="result">Base taxable : <span id="baseTaxable"></span></div>
            <div class="result">Frais de notaire : <span id="fraisNotaire"></span></div>
            <div class="result">Taux appliqu√© : <span id="taux"></span></div>
            <div class="result">√âconomie <span class="info-icon" onclick="toggleInfo()">‚ÑπÔ∏è</span> : <span id="economie"></span>
              <div id="info" class="info-bulle">√âconomie = diff. entre frais standard et optimis√©s.</div>
            </div>
          </div>
          <div class="section">
            <h3>D√©tail Frais</h3>
            <div class="result">Part √âtat : <span id="etat"></span></div>
            <div class="result">D√©bours : <span id="debours"></span></div>
            <div class="result">√âmoluments : <span id="notaire"></span></div>
          </div>
          <button class="btn" onclick="exportPDF()">üìÑ Exporter en PDF</button>
        </div>
      </div>
    </div>
  </main>

  <script>
    function logout() { window.location.href='dashboard.html'; }
    function toggleInfo() { const info=document.getElementById('info'); info.style.display = info.style.display==='block'?'none':'block'; }
    function calculerFrais() {
      const prix = parseFloat(document.getElementById('prixVente').value)||0;
      const honoraires = parseFloat(document.getElementById('honoraires').value)||0;
      const charge = document.getElementById('charge').value;
      const type = document.getElementById('typeBien').value;
      const mobilier = parseFloat(document.getElementById('mobilier').value)||0;
      const taux = type==='ancien'?0.075:0.027;
      const debours = type==='ancien'?1200:800;
      const baseTaxable = ((charge==='vendeur'?prix:prix-honoraires)-mobilier);
      const frais = baseTaxable*taux;
      const partEtat=frais*(type==='ancien'?0.77:0.25);
      const emoluments=frais-partEtat-debours;
      const reference=prix*taux;
      const economie=reference-frais;
      const reduction=((economie/reference)*100).toFixed(1);
      document.getElementById('netVendeur').innerText=prix.toLocaleString('fr-FR',{style:'currency',currency:'EUR'});
      document.getElementById('baseTaxable').innerText=baseTaxable.toLocaleString('fr-FR',{style:'currency',currency:'EUR'});
      document.getElementById('fraisNotaire').innerText=frais.toLocaleString('fr-FR',{style:'currency',currency:'EUR'});
      document.getElementById('taux').innerText=(taux*100).toFixed(2)+'%';
      document.getElementById('economie').innerHTML=`<span class='highlight'>${economie.toLocaleString('fr-FR',{style:'currency',currency:'EUR'})} (-${reduction}%)</span>`;
      document.getElementById('etat').innerText=partEtat.toLocaleString('fr-FR',{style:'currency',currency:'EUR'});
      document.getElementById('debours').innerText=debours.toLocaleString('fr-FR',{style:'currency',currency:'EUR'});
      document.getElementById('notaire').innerText=emoluments.toLocaleString('fr-FR',{style:'currency',currency:'EUR'});
      document.getElementById('resultats').style.display='block';
    }
    function exportPDF() { html2pdf().set({margin:0.3,filename:'frais-notaire.pdf',html2canvas:{scale:2,scrollY:0},jsPDF:{unit:'cm',format:'a4'}}).from(document.getElementById('pdf-content')).save(); }
  </script>
</body>
</html>
